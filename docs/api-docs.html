<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>MCP Security Certification API Documentation</title>
    <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/bootstrap@5.2.3/dist/css/bootstrap.min.css">
    <style>
        body {
            padding-top: 20px;
            padding-bottom: 40px;
            background-color: #f8f9fa;
        }
        .container {
            max-width: 1140px;
        }
        .header {
            margin-bottom: 30px;
            text-align: center;
            padding: 20px 0;
        }
        .card {
            margin-bottom: 20px;
            box-shadow: 0 4px 6px rgba(0,0,0,0.1);
            border: none;
        }
        .card-header {
            font-weight: 600;
        }
        pre {
            background-color: #f5f5f5;
            padding: 15px;
            border-radius: 5px;
            overflow-x: auto;
        }
        code {
            color: #d63384;
        }
        .endpoint {
            background-color: #e9ecef;
            padding: 10px 15px;
            border-radius: 5px;
            font-family: monospace;
            margin-bottom: 15px;
            display: flex;
            justify-content: space-between;
            align-items: center;
        }
        .method {
            font-weight: bold;
            padding: 3px 8px;
            border-radius: 4px;
            color: white;
            margin-right: 10px;
        }
        .get {
            background-color: #0d6efd;
        }
        .post {
            background-color: #198754;
        }
        .options {
            background-color: #6c757d;
        }
        .table-responsive {
            margin-bottom: 20px;
        }
        .nav-tabs {
            margin-bottom: 20px;
            border-bottom: 2px solid #dee2e6;
        }
        .nav-tabs .nav-link {
            border: none;
            color: #495057;
            font-weight: 500;
            padding: 10px 15px;
        }
        .nav-tabs .nav-link.active {
            color: #007bff;
            background-color: transparent;
            border-bottom: 2px solid #007bff;
        }
    </style>
</head>
<body>
    <div class="container">
        <div class="header">
            <h1>MCP Security Certification API Documentation</h1>
            <p class="lead">API reference for the Model Context Protocol (MCP) Security Certification service</p>
        </div>

        <div class="card">
            <div class="card-header bg-primary text-white">
                <h2 class="mb-0">Introduction</h2>
            </div>
            <div class="card-body">
                <p>The MCP Security Certification API provides access to security certifications and analyses for Model Context Protocol (MCP) server implementations. This API allows you to:</p>
                
                <ul>
                    <li>Search for existing security certifications by GitHub repository URL</li>
                    <li>Request new security analyses for MCP server implementations</li>
                    <li>Retrieve detailed security reports</li>
                    <li>Search for MCP servers by keyword</li>
                </ul>
                
                <h3>Base URL</h3>
                <pre><code>https://mcp-security-production.up.railway.app/api</code></pre>
                
                <h3>About MCP Security Certification</h3>
                <p>The MCP Security Certification project evaluates MCP server implementations against a standardized security framework. Each repository is analyzed for security best practices, vulnerabilities, and implementation quality.</p>
                
                <p>Certification levels include:</p>
                <ul>
                    <li><strong>Gold</strong>: Exceptional security practices with minimal vulnerabilities</li>
                    <li><strong>Silver</strong>: Strong security implementation with some minor issues</li>
                    <li><strong>Bronze</strong>: Acceptable security with areas for improvement</li>
                    <li><strong>None</strong>: Does not meet minimum security requirements</li>
                </ul>
            </div>
        </div>

        <div class="card">
            <div class="card-header bg-primary text-white">
                <h2 class="mb-0">API Endpoints</h2>
            </div>
            <div class="card-body">
                <!-- Search Repository -->
                <h3 id="search">Search Repository</h3>
                <div class="endpoint">
                    <div>
                        <span class="method get">GET</span>
                        <code>/search?repo_url={github_repo_url}</code>
                    </div>
                    <a href="#search-example" class="btn btn-sm btn-outline-primary">Example</a>
                </div>
                
                <p>Check if a GitHub repository has been analyzed and has a security profile.</p>
                
                <h4>Parameters</h4>
                <div class="table-responsive">
                    <table class="table table-bordered">
                        <thead>
                            <tr>
                                <th>Name</th>
                                <th>Type</th>
                                <th>Required</th>
                                <th>Description</th>
                            </tr>
                        </thead>
                        <tbody>
                            <tr>
                                <td>repo_url</td>
                                <td>string</td>
                                <td>Yes</td>
                                <td>The GitHub repository URL (e.g., https://github.com/username/repository)</td>
                            </tr>
                        </tbody>
                    </table>
                </div>
                
                <h4>Response</h4>
                <p>The API returns a JSON object with the following fields:</p>
                <div class="table-responsive">
                    <table class="table table-bordered">
                        <thead>
                            <tr>
                                <th>Field</th>
                                <th>Type</th>
                                <th>Description</th>
                            </tr>
                        </thead>
                        <tbody>
                            <tr>
                                <td>found</td>
                                <td>boolean</td>
                                <td>Whether the repository was found in the database</td>
                            </tr>
                            <tr>
                                <td>has_profile</td>
                                <td>boolean</td>
                                <td>Whether the repository has a security profile</td>
                            </tr>
                            <tr>
                                <td>repo_id</td>
                                <td>string</td>
                                <td>The ID of the repository (if found)</td>
                            </tr>
                            <tr>
                                <td>profile_id</td>
                                <td>string</td>
                                <td>The ID of the security profile (if has_profile is true)</td>
                            </tr>
                        </tbody>
                    </table>
                </div>
                
                <h4 id="search-example">Example</h4>
                <p>Request:</p>
                <pre><code>GET /api/search?repo_url=https://github.com/isaacwasserman/mcp-snowflake-server</code></pre>
                
                <p>Response:</p>
                <pre><code>{
  "found": true,
  "has_profile": true,
  "repo_id": "681affab0134594fb149f683",
  "profile_id": "681affc90134594fb149f68c"
}</code></pre>

                <!-- Get Report -->
                <h3 id="report">Get Security Report</h3>
                <div class="endpoint">
                    <div>
                        <span class="method get">GET</span>
                        <code>/report?repo_url={github_repo_url}</code>
                    </div>
                    <a href="#report-example" class="btn btn-sm btn-outline-primary">Example</a>
                </div>
                
                <p>Retrieve the security certification report for a GitHub repository.</p>
                
                <h4>Parameters</h4>
                <div class="table-responsive">
                    <table class="table table-bordered">
                        <thead>
                            <tr>
                                <th>Name</th>
                                <th>Type</th>
                                <th>Required</th>
                                <th>Description</th>
                            </tr>
                        </thead>
                        <tbody>
                            <tr>
                                <td>repo_url</td>
                                <td>string</td>
                                <td>Yes</td>
                                <td>The GitHub repository URL (e.g., https://github.com/username/repository)</td>
                            </tr>
                        </tbody>
                    </table>
                </div>
                
                <h4>Response</h4>
                <p>The API returns a Markdown-formatted security report.</p>
                
                <h4 id="report-example">Example</h4>
                <p>Request:</p>
                <pre><code>GET /api/report?repo_url=https://github.com/isaacwasserman/mcp-snowflake-server</code></pre>
                
                <p>Response:</p>
                <pre><code>Content-Type: text/markdown

# Security Certification Report

## Executive Summary
This report evaluates the security posture of the mcp-snowflake-server...
</code></pre>

                <!-- Analyze Repository -->
                <h3 id="analyze">Analyze Repository</h3>
                <div class="endpoint">
                    <div>
                        <span class="method post">POST</span>
                        <code>/analyze</code>
                    </div>
                    <a href="#analyze-example" class="btn btn-sm btn-outline-primary">Example</a>
                </div>
                
                <p>Trigger a security analysis for a GitHub repository.</p>
                
                <h4>Request Body</h4>
                <div class="table-responsive">
                    <table class="table table-bordered">
                        <thead>
                            <tr>
                                <th>Field</th>
                                <th>Type</th>
                                <th>Required</th>
                                <th>Description</th>
                            </tr>
                        </thead>
                        <tbody>
                            <tr>
                                <td>repo_url</td>
                                <td>string</td>
                                <td>Yes</td>
                                <td>The GitHub repository URL to analyze</td>
                            </tr>
                        </tbody>
                    </table>
                </div>
                
                <h4>Response</h4>
                <p>The API returns a JSON object with the following fields:</p>
                <div class="table-responsive">
                    <table class="table table-bordered">
                        <thead>
                            <tr>
                                <th>Field</th>
                                <th>Type</th>
                                <th>Description</th>
                            </tr>
                        </thead>
                        <tbody>
                            <tr>
                                <td>status</td>
                                <td>string</td>
                                <td>Status of the analysis request: "started", "in_progress", or "exists"</td>
                            </tr>
                            <tr>
                                <td>message</td>
                                <td>string</td>
                                <td>A descriptive message about the analysis status</td>
                            </tr>
                            <tr>
                                <td>profile_id</td>
                                <td>string</td>
                                <td>The ID of the existing profile (if status is "exists")</td>
                            </tr>
                        </tbody>
                    </table>
                </div>
                
                <h4 id="analyze-example">Example</h4>
                <p>Request:</p>
                <pre><code>POST /api/analyze
Content-Type: application/json

{
  "repo_url": "https://github.com/username/mcp-server"
}</code></pre>
                
                <p>Response:</p>
                <pre><code>{
  "status": "started",
  "message": "Analysis started. Check back in a few minutes for results."
}</code></pre>

                <!-- Export Report -->
                <h3 id="export">Export Report</h3>
                <div class="endpoint">
                    <div>
                        <span class="method get">GET</span>
                        <code>/export/{profile_id}</code>
                    </div>
                    <a href="#export-example" class="btn btn-sm btn-outline-primary">Example</a>
                </div>
                
                <p>Export a security report by profile ID.</p>
                
                <h4>Parameters</h4>
                <div class="table-responsive">
                    <table class="table table-bordered">
                        <thead>
                            <tr>
                                <th>Name</th>
                                <th>Type</th>
                                <th>Required</th>
                                <th>Description</th>
                            </tr>
                        </thead>
                        <tbody>
                            <tr>
                                <td>profile_id</td>
                                <td>string</td>
                                <td>Yes</td>
                                <td>The ID of the security profile to export</td>
                            </tr>
                        </tbody>
                    </table>
                </div>
                
                <h4>Response</h4>
                <p>The API returns a Markdown-formatted security report.</p>
                
                <h4 id="export-example">Example</h4>
                <p>Request:</p>
                <pre><code>GET /api/export/681affc90134594fb149f68c</code></pre>
                
                <p>Response:</p>
                <pre><code>Content-Type: text/markdown

# Security Certification Report

## Executive Summary
This report evaluates the security posture of the mcp-snowflake-server...
</code></pre>

                <!-- Search Servers -->
                <h3 id="search-servers">Search MCP Servers</h3>
                <div class="endpoint">
                    <div>
                        <span class="method get">GET</span>
                        <code>/search-servers?keyword={keyword}</code>
                    </div>
                    <a href="#search-servers-example" class="btn btn-sm btn-outline-primary">Example</a>
                </div>
                
                <p>Search for MCP servers by keyword.</p>
                
                <h4>Parameters</h4>
                <div class="table-responsive">
                    <table class="table table-bordered">
                        <thead>
                            <tr>
                                <th>Name</th>
                                <th>Type</th>
                                <th>Required</th>
                                <th>Description</th>
                            </tr>
                        </thead>
                        <tbody>
                            <tr>
                                <td>keyword</td>
                                <td>string</td>
                                <td>No</td>
                                <td>Keyword to search for in server name, function, or description (if omitted, returns all servers)</td>
                            </tr>
                        </tbody>
                    </table>
                </div>
                
                <h4>Response</h4>
                <p>The API returns a JSON object with the following fields:</p>
                <div class="table-responsive">
                    <table class="table table-bordered">
                        <thead>
                            <tr>
                                <th>Field</th>
                                <th>Type</th>
                                <th>Description</th>
                            </tr>
                        </thead>
                        <tbody>
                            <tr>
                                <td>count</td>
                                <td>integer</td>
                                <td>The number of servers found</td>
                            </tr>
                            <tr>
                                <td>servers</td>
                                <td>array</td>
                                <td>Array of server objects</td>
                            </tr>
                        </tbody>
                    </table>
                </div>
                
                <p>Each server object contains:</p>
                <div class="table-responsive">
                    <table class="table table-bordered">
                        <thead>
                            <tr>
                                <th>Field</th>
                                <th>Type</th>
                                <th>Description</th>
                            </tr>
                        </thead>
                        <tbody>
                            <tr>
                                <td>_id</td>
                                <td>string</td>
                                <td>Unique identifier for the server</td>
                            </tr>
                            <tr>
                                <td>name</td>
                                <td>string</td>
                                <td>Name of the MCP server</td>
                            </tr>
                            <tr>
                                <td>repo_url</td>
                                <td>string</td>
                                <td>GitHub repository URL</td>
                            </tr>
                            <tr>
                                <td>primary_function</td>
                                <td>string</td>
                                <td>Primary function of the server (e.g., Memory, Retrieval, Tool)</td>
                            </tr>
                            <tr>
                                <td>certification_level</td>
                                <td>string</td>
                                <td>Security certification level (Gold, Silver, Bronze, None)</td>
                            </tr>
                            <tr>
                                <td>security_score</td>
                                <td>number</td>
                                <td>Overall security score (0-10)</td>
                            </tr>
                            <tr>
                                <td>description</td>
                                <td>string</td>
                                <td>Description of the server (if available)</td>
                            </tr>
                            <tr>
                                <td>evaluation_date</td>
                                <td>string</td>
                                <td>ISO-formatted date of the last evaluation</td>
                            </tr>
                        </tbody>
                    </table>
                </div>
                
                <h4 id="search-servers-example">Example</h4>
                <p>Request:</p>
                <pre><code>GET /api/search-servers?keyword=memory</code></pre>
                
                <p>Response:</p>
                <pre><code>{
  "count": 2,
  "servers": [
    {
      "_id": "681affab0134594fb149f683",
      "name": "mcp-memory-server",
      "repo_url": "https://github.com/example/mcp-memory-server",
      "primary_function": "Memory",
      "certification_level": "Silver",
      "security_score": 8.5,
      "description": "An MCP server for storing and retrieving memory",
      "evaluation_date": "2023-05-01T12:00:00.000Z"
    },
    {
      "_id": "681affc90134594fb149f68c",
      "name": "mcp-memory-advanced",
      "repo_url": "https://github.com/example/mcp-memory-advanced",
      "primary_function": "Memory",
      "certification_level": "Gold",
      "security_score": 9.2,
      "description": "Advanced memory server with encryption",
      "evaluation_date": "2023-05-05T14:30:00.000Z"
    }
  ]
}</code></pre>
            </div>
        </div>

        <div class="card">
            <div class="card-header bg-primary text-white">
                <h2 class="mb-0">Error Handling</h2>
            </div>
            <div class="card-body">
                <p>The API uses standard HTTP status codes to indicate the success or failure of requests:</p>
                
                <div class="table-responsive">
                    <table class="table table-bordered">
                        <thead>
                            <tr>
                                <th>Status Code</th>
                                <th>Description</th>
                            </tr>
                        </thead>
                        <tbody>
                            <tr>
                                <td>200 OK</td>
                                <td>The request was successful</td>
                            </tr>
                            <tr>
                                <td>400 Bad Request</td>
                                <td>The request was invalid or missing required parameters</td>
                            </tr>
                            <tr>
                                <td>404 Not Found</td>
                                <td>The requested resource was not found</td>
                            </tr>
                            <tr>
                                <td>500 Internal Server Error</td>
                                <td>An error occurred on the server</td>
                            </tr>
                        </tbody>
                    </table>
                </div>
                
                <h3>Error Response Format</h3>
                <p>Error responses are returned as JSON objects with the following structure:</p>
                
                <pre><code>{
  "error": "Description of the error"
}</code></pre>
                
                <h3>Example Error Response</h3>
                <pre><code>{
  "error": "Invalid GitHub repository URL"
}</code></pre>
            </div>
        </div>

        <div class="card">
            <div class="card-header bg-primary text-white">
                <h2 class="mb-0">Data Collection & Privacy</h2>
            </div>
            <div class="card-body">
                <p>The MCP Security Certification project collects and stores the following data:</p>
                
                <ul>
                    <li><strong>Repository Information</strong>: Name, URL, primary function, and other metadata from public GitHub repositories</li>
                    <li><strong>Security Analysis</strong>: Results of automated security analysis, including vulnerabilities, scores, and certification levels</li>
                    <li><strong>Code Snippets</strong>: Security-relevant code from public repositories for analysis purposes</li>
                </ul>
                
                <h3>Data Usage</h3>
                <p>This data is used to:</p>
                <ul>
                    <li>Generate security certification reports for MCP server implementations</li>
                    <li>Provide a searchable database of MCP servers with security information</li>
                    <li>Improve the security of the MCP ecosystem through transparency and best practices</li>
                </ul>
                
                <h3>Opt-Out</h3>
                <p>Repository owners who wish to opt out of having their repositories analyzed can contact us at <a href="mailto:contact@example.com">contact@example.com</a>.</p>
            </div>
        </div>

        <div class="card">
            <div class="card-header bg-primary text-white">
                <h2 class="mb-0">Rate Limits</h2>
            </div>
            <div class="card-body">
                <p>To ensure fair usage and system stability, the API has the following rate limits:</p>
                
                <div class="table-responsive">
                    <table class="table table-bordered">
                        <thead>
                            <tr>
                                <th>Endpoint</th>
                                <th>Rate Limit</th>
                            </tr>
                        </thead>
                        <tbody>
                            <tr>
                                <td>Search and Report endpoints</td>
                                <td>100 requests per hour</td>
                            </tr>
                            <tr>
                                <td>Analyze endpoint</td>
                                <td>10 requests per hour</td>
                            </tr>
                        </tbody>
                    </table>
                </div>
                
                <p>If you exceed these limits, you'll receive a 429 Too Many Requests response.</p>
            </div>
        </div>

        <div class="card">
            <div class="card-header bg-primary text-white">
                <h2 class="mb-0">Contact & Support</h2>
            </div>
            <div class="card-body">
                <p>For questions, feedback, or support regarding the MCP Security Certification API, please:</p>
                
                <ul>
                    <li>Open an issue on our <a href="https://github.com/yourusername/mcp-security" target="_blank">GitHub repository</a></li>
                    <li>Contact us at <a href="mailto:contact@example.com">contact@example.com</a></li>
                </ul>
                
                <p>We welcome contributions to improve the API and certification process!</p>
            </div>
        </div>

        <footer class="mt-5 pt-3 text-muted text-center">
            <p>MCP Security Certification API Documentation</p>
            <p><small>Last updated: May 2023</small></p>
        </footer>
    </div>

    <!-- Bootstrap JS -->
    <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.2.3/dist/js/bootstrap.bundle.min.js"></script>
</body>
</html>